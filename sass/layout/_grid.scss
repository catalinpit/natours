.row {
    /* 
        If there is enough available space,
        then it will have the width that we have specified.

        If there isn't enough space (viewport smaller than what we specified here),
        then it simply fills 100% of the available space.
    */
    max-width: $grid-width;
    background-color: #eee;
    /*
        Center block elements inside of another block element.
    */
    margin: 0 auto;

    /* 
        Apply the margin-bottom to all the elements except the last one.
    */
    &:not(:last-child) {
        margin-bottom: $gutter-vertical;
    }

    @include clearfix;

    /*
        Select all the clasess that start with "col-"
    */
    [class^="col-"] {
        background-color: orange;
        float: left;

        &:not(:last-child) {
            margin-right: $gutter-horizontal; 
        }
    }

    .col-1-of-2 {
        width: calc((100% - #{$gutter-horizontal}) / 2);
    }

    .col-1-of-3 {
        width: calc((100% - 2 * #{$gutter-horizontal}) / 3);
    }

    .col-2-of-3 {
        width: calc(2 * ((100% - 2 * #{$gutter-horizontal}) / 3) + #{$gutter-horizontal});
    }

    .col-1-of-4 {
        width: calc((100% - 3 * #{$gutter-horizontal}) / 4);
    }

    .col-2-of-4 {
        width: calc(2 * ((100% - 3 * #{$gutter-horizontal}) / 4) + #{$gutter-horizontal});
    }

    .col-3-of-4 {
        width: calc(3 * ((100% - 3 * #{$gutter-horizontal}) / 4) + 2 * #{$gutter-horizontal});
    }
}

.grid-test {
    margin-top: $gutter-vertical;
}